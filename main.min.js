$(document).ready(function(){$.getJSON("https://api.mercadolibre.com/sites/MLA/categories",function(e){for(let t of e)$("#hidden_categories").append(new Option(t.name,t.id));$("#hidden_categories option:first").attr("disabled","disabled")}),$("#search").keyup(function(){$(this).val()?$("#main-btn").show():$("#main-btn").hide()}),$("#main-btn").click(function(){$(".product-img").fadeOut();const e=$("#search").val();$("#result").html("<p>Buscando&hellip;</p>");const t=`https://api.mercadolibre.com/sites/MLA/search?status=active&q=${e}&limit=50`;$.getJSON(t,function(e){if(void 0===e.results)$("#result").html("<p>No encontré nada parecido.</p>").show();else{const t=e.results.length;if(!t)return $("#result").html("<p>No encontré nada parecido.</p>").show(),!1;const s=parseInt(e.results.reduce((e,t)=>e+t.price,0)),n=100*parseInt(parseInt(s/t)/100),r=e.results.filter(({price:e})=>e>n),i=e.results.filter(({price:e})=>e<n),a=100*parseInt(parseInt(r.reduce((e,t)=>e+t.price,0)/r.length)/100);let o=100*parseInt(parseInt(i.reduce((e,t)=>e+t.price,0)/i.length)/100);$("#result").html(`<p>En promedio se pueden vender a: <span class="price">$ ${n}</span></p>\n<p>Desde <strong>$${o}</strong> hasta <strong>$${a}</strong>.</p>`),$("#result").show()}})})});