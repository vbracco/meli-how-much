$(document).ready(function(){$.getJSON("https://api.mercadolibre.com/sites/MLA/categories",function(e){for(let t of e)$("#hidden_categories").append(new Option(t.name,t.id));$("#hidden_categories option:first").attr("disabled","disabled")}),$("#search").keyup(function(){$(this).val()?$("#main-btn").show():$("#main-btn").hide()}),$("#search").on("keypress",function(e){return 13!=e.which||($("#main-btn").click(),!1)}),$("#main-btn").click(function(){$(".product-img").fadeOut();const e=$("#search").val(),t=$("input:radio[name=condition]:checked").val();$("#result").html("<p>Buscando&hellip;</p>");const n=`https://api.mercadolibre.com/sites/MLA/search?status=active&q=${e}&limit=50&condition=${t}&buying_mode=buy_it_now`;$.getJSON(n,function(e){if(void 0===e.results)$("#result").html("<p>No encontré nada parecido.</p>").show();else{const t=e.results.length;if(!t)return $("#result").html("<p>No encontré nada parecido.</p>").show(),!1;const n=parseInt(e.results.reduce((e,t)=>e+t.price,0)),s=100*parseInt(parseInt(n/t)/100),r=e.results.filter(({price:e})=>e>s),i=e.results.filter(({price:e})=>e<s),o=100*parseInt(parseInt(r.reduce((e,t)=>e+t.price,0)/r.length)/100);let a=100*parseInt(parseInt(i.reduce((e,t)=>e+t.price,0)/i.length)/100);$("#result").html(`<p>En promedio se pueden vender a: <span class="price">$ ${s.toLocaleString()}</span></p><p>Desde <strong>$${a.toLocaleString()}</strong> hasta <strong>$${o.toLocaleString()}</strong>.</p>`),$("#result").show()}})})});